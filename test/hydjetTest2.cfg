# test for HYDJET only
# by camelia mironov
#
#

process TEST = {

  untracked PSet maxEvents = { untracked int32 input = 1 }

#_________________________________________________    
  service = MessageLogger {
    untracked vstring destinations =  { "cout" }        # send messages to cout
    untracked vstring debugModules =  { "HydjetProducer" }# messages comming form HydjetProducer (replace with "*" for all modules, or, add new ones separated by comma)
    
    untracked PSet cout =
      {
    #   untracked PSet default     = { untracked int32 limit =  0 }   # kill all messages in the log
        untracked PSet INFO	   = { untracked int32 limit = -1 }   # print all info messages
      }
}

#_________________________________________________    
# control point for all seeds
#
  service = RandomNumberGeneratorService {
    PSet hydjet = {
      untracked uint32 initialSeed   = 214323
    }
  untracked string saveFileName = "SaveState.dat"
  }


#__________________________________________________
# physics event generation
#

  module hydjet = HydjetProducer {
    # initialize pythia
    PSet PythiaParameters = { 
	# This is a vector of ParameterSet names to be read, in this order
        # They are  in the include files 
	# pythiaDefault HAS TO BE ALWAYS included
	# If just the hard QCD dijets wanted, comment out the photons corresponding include and parameter set
	vstring parameterSets = {
		"pythiaDefault"       # MSEL=1 (hard QCD dijets in) + hydjet needed initializations
	#	,"pythiaPromptPhotons"  # ISUB=14,18,29,114,115
		}
	include "GeneratorInterface/PyquenInterface/data/pyquenPythiaDefault.cfi"
    }

    # default hydjet parameters 
    include "GeneratorInterface/HydjetInterface/data/hydjetSourceDefault.cfi"
  }

# whatever parameters from the hydjetSourceDefault you want to modify, do it following the examples

replace hydjet.bFixed        = 1.  
replace hydjet.bMin          = 10.
replace hydjet.bMax          = 12.
replace hydjet.cFlag         = 0     
				 
replace hydjet.hydjetMode    =  "kHydroQJets"   
replace hydjet.maxEventsToPrint = 2
replace hydjet.pythiaPylistVerbosity = 2

#___________________________________________________  
   
  module GEN = PoolOutputModule {
    untracked string fileName = "hydjet1.root"
  }

  source = EmptySource {}

  path p1 = { hydjet }

  endpath e = { GEN }

}
