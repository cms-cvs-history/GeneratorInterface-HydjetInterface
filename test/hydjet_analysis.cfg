process PROD = {

untracked PSet maxEvents = {
   untracked int32 input = 2
}

#_________________________________________________    
service = MessageLogger {
    untracked vstring destinations =  { "cout" }        # send messages to cout
    untracked vstring debugModules =  { "HydjetSource" }# messages comming form HydjetInterface (replace with "*" for all modules, or, add new ones separated by comma)
    
    untracked PSet cout =
      {
        untracked string threshold = "DEBUG" 	 # the lower severity limit of the printed messages (default is 'INFO')
     #   untracked PSet default     = { untracked int32 limit =  0 }   # kill all messages in the log
     #   untracked PSet DEBUG	   = { untracked int32 limit = -1 }   # print all debug messages
        untracked PSet INFO	   = { untracked int32 limit = -1 }   # print all info messages
      }
}

service = TFileService { 
    string fileName = "myhistograms.root"
  }
	
#_________________________________________________    
# control point for all seeds
#
service = RandomNumberGeneratorService {
   untracked uint32 sourceSeed = 98765
}


#__________________________________________________
# physics event generation
#

source = HydjetSource {
    # initialize pythia
    PSet PythiaParameters = { 
	# This is a vector of ParameterSet names to be read, in this order
        # They are  in the include files 
	# pythiaDefault HAS TO BE ALWAYS included
	# If just the hard QCD dijets wanted, comment out the photons corresponding include and parameter set
	vstring parameterSets = {
		"pythiaDefault"        # MSEL=1 (hard QCD dijets in) + hydjet needed initializations
	       ,"pythiaPromptPhotons"  # ISUB=14,18,29,114,115
		}
	include "GeneratorInterface/HydjetInterface/data/hydjetPythiaDefault.cfi"
	include "GeneratorInterface/PyquenInterface/data/hiPythiaPromptPhotons.cfi"
    }	

    # default hydjet parameters 
    include "GeneratorInterface/HydjetInterface/data/hydjetSourceDefault.cfi"
}



# whatever parameters from the hydjetSourceDefault you want to modify, do it following the exampels
replace HydjetSource.bFixed        = 6.               # fixed impact param (fm); valid only if cflag_=0
replace HydjetSource.bMax          = 0.               # max impact param (fm)
replace HydjetSource.bMin          = 0.               # min impact param (fm)
replace HydjetSource.cFlag         = 0                # centrality flag
				                      # =  0 fixed impact param
				                      # <> 0 between bmin and bmax
replace HydjetSource.hydjetMode    = "kQJetsOnly"    #Hydjet running mode.

# Valid entries:
# kHydroOnly  //jet production off (pure HYDRO event): nhsel=0
# kHydroJets  //jet production on, jet quenching off (HYDRO+njet*PYTHIA events):nhsel=1
# kHydroQJets //jet production & jet quenching on (HYDRO+njet*PYQUEN events);nhsel=2
# kJetsOnly   //jet production on, jet quenching off, HYDRO off (njet*PYTHIA events):nhsel=3
# kQJetsOnly  //jet production & jet quenching on, HYDRO off (njet*PYQUEN events):nhsel=4

replace HydjetSource.nMultiplicity = 26000  #mean soft multiplicity in central PbPb
					    #automatically calculated for other centralities and beams



#___________________________________________________  
   module eventana = HydjetAnalyzer {}
   
   module subana = SubEventAnalyzer {}

   module GEN = PoolOutputModule
   {
      untracked string fileName = "hydjet1.root"
   }

   path p1 = { eventana, subana }
   endpath e = { GEN }

}


#__________________________________________________
